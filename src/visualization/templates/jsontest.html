<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Hot 100</title>
    <script src="{{url_for('static', filename='radarChart.js')}}"></script>	
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/1.13.0/d3-legend.min.js"></script>
    <link href="http://fonts.googleapis.com/css?family=Dosis:400,500,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300" rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    


</head>


<style>

/* body {
  font-size: 22px;
  font-family: 'Dosis', sans-serif;
  margin-top: 20px;
} */

li{
    margin-left: 45px;
    }

.songname {
  font-size: 14px;
  font-family: 'Dosis', sans-serif;
  margin-top: 5px;
}

.bottomT{
  visibility: hidden;
}

div.tooltip {	
    position: absolute;			
    text-align: center;			
    width: 200px;					
    height: 500px;					
    padding: 15px;				
    font: 12px sans-serif;		
    background: rgb(13, 236, 50);	
    border: 5px;		
    border-radius: 8px;			
    pointer-events: none;			
}


.x.axis path,.x.axis line {
    fill: none;
    stroke: none;
    }

.y.axis path {
    fill: none;
    }

.y.axis line {
    fill: white;
    stroke: #eeeeee;
    shape-rendering: crispEdges;
    }

.x.axis text, .y.axis text{
      font-size: 10px;
      fill:grey;
    }

.line {
  fill: none;
  stroke-width: 2px;
}

path:hover{
  cursor: pointer;
}

.tick line{
    stroke: #000000;
    opacity: 1;
    }

.explain{
      font-size: 18px;
      font-family: 'Dosis', sans-serif;
      margin-top: 8px;
      text-indent: 80px;
      margin-left: 40px;
}

#title {
      font-size: 45px;
      font-family: 'Dosis', sans-serif;
      margin-top: 20px;
      text-indent: 50px;

}

 a:hover{
      cursor:pointer;
    }

#label {
  font-size: 15px;
  font-family: 'Dosis', sans-serif;
  margin-top: 3px;
  }

.box {
  display: inline-block;
  height: 20px;
  width: 20px;
  border: 2px solid;
}

.form-check-inline{
  display: inline-block;
  margin-left: 12px;
}

#radars{
  opacity: 0;
}

</style>


<body>
<div id="container3" style="margin-left: 80px">
<h1 id="title">Top 20 Billboard Hot 100 Songs By Week Grouped By Genre</h1>

<p class="explain"> · Hover over a song's name tag to see the Hot 100 Trends for each week. </p>
<p class="explain"> · Click on the Replay Button to replay the race.</p>
<p class="explain"> · Click on the Pause Button to analyze the trends for a specific number of weeks.</p>
<div id="container2" style="margin-left: 80px"></div>
<ul class="nav nav-pills flex-column flex-sm-row" role="tablist">
  <li role="presentation" class="dropdown">
    <a id="drop4" data-target="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
      Years
      <span class="caret"></span>
    </a>
    <ul id="menu1" class="dropdown-menu" aria-labelledby="drop4">
      <li class="songname" value="1999"><a href="/line_chart_race?year=1999">1999</a></li>
      <li class="songname"><a href="/line_chart_race?year=2000">2000</a></li>
      <li class="songname"><a href="/line_chart_race?year=2001">2001</a></li>
      <li class="songname"><a href="/line_chart_race?year=2002">2002</a></li>
      <li class="songname"><a href="/line_chart_race?year=2003">2003</a></li>
      <li class="songname"><a href="/line_chart_race?year=2004">2004</a></li>
      <li class="songname"><a href="/line_chart_race?year=2005">2005</a></li>
      <li class="songname"><a href="/line_chart_race?year=2006">2006</a></li>
      <li class="songname"><a href="/line_chart_race?year=2007">2007</a></li>
      <li class="songname"><a href="/line_chart_race?year=2008">2008</a></li>
      <li class="songname"><a href="/line_chart_race?year=2009">2009</a></li>
      <li class="songname"><a href="/line_chart_race?year=2010">2010</a></li>
      <li class="songname"><a href="/line_chart_race?year=2011">2011</a></li>
      <li class="songname"><a href="/line_chart_race?year=2012">2012</a></li>
      <li class="songname"><a href="/line_chart_race?year=2013">2013</a></li>
      <li class="songname"><a href="/line_chart_race?year=2014">2014</a></li>
      <li class="songname"><a href="/line_chart_race?year=2015">2015</a></li>
      <li class="songname"><a href="/line_chart_race?year=2016">2016</a></li>
      <li class="songname"><a href="/line_chart_race?year=2017">2017</a></li>
      <li class="songname"><a href="/line_chart_race?year=2018">2018</a></li>
      <li class="songname"><a  href="/line_chart_race?year=2019">2019</a></li>      
    </ul>
  </li>
  <li role="presentation" class="btn" id="home"><a href="/">Home Page</a></li> 
  <li role="presentation" class="btn" id="replay"><a data-target="#">Replay Race</a></li>
  <li role="presentation" class="btn" id="pause"><a>Pause</a></li>
  


  
</ul> 
</div>
<div id="container" style="margin-left: 0px">
<div class="row">
  <div class="col-md-12">
    <div id="graphic">
    </div>
  </div> 
</div>
<div class="row">
<div class="col-md-10" id="radars" style="margin-left: 150px; background-color: rgba(168, 87, 201, 0.62);">
  <ul class="nav nav-pills nav-justified nav-fill" role="tablist">
    <li role="presentation" class="nav-item nav-link active btn" id="byGenre"><b>By Genre</b></li> 
    <li role="presentation" class="nav-item nav-link btn" id="byYear"><b>By Year</b></li>
    <li role="presentation" class="nav-item nav-link btn" id="byPop"><b>By Popularity</b></li>
  </ul>
  <br>
  <div class="check_genre"></div>
  <div class="radarChart"></div>
  
</div>
</div>
<script src="https://d3js.org/d3.v3.js"></script>

<script>
function colorFilter_str(d){
    if (d.Top_Genre == "reggae") {
          return "#e377c2"; // Reggae 
      } else if (d.Top_Genre == "electronic") {
          return "#ffbb78"; // Electronic
      } else if (d.Top_Genre == "latin"){
        return "#8c564b"; // Latin
      } else if (d.Top_Genre == "r&amp;b"){
        return "#ce3b69"; // R & B
      } else if (d.Top_Genre == "pop"){
        return "#9467bd"; // Pop 
      } else if (d.Top_Genre == "country"){
          return "#ff7f0e"; // Country 
    } else if (d.Top_Genre == "hip-hop"){
          return "#2ca02c"; // Hip-Hop 
    } else if (d.Top_Genre == "rock"){
          return "#17becf"; // Rock
    } else if (d.Top_Genre == "alternative"){
          return "#bcbd22"; // "Alternative"
    } else {
          return "#d62728" // "Other"
    }
}


function loadRadars(d){
  d3.select("#radars").style("opacity", 1)
  var margin = {top: 100, right: 100, bottom: 100, left: 100},
				width = Math.min(700, window.innerWidth - 10) - margin.left - margin.right,
				height = Math.min(width, window.innerHeight - margin.top - margin.bottom - 20);
					
			////////////////////////////////////////////////////////////// 
			////////////////////////// Data ////////////////////////////// 
			//////////////////////////////////////////////////////////////
  var axis_data = []
  var data_array = []
    {% for obj in radar_json %}
    data_array.push({
    {% for k,v in obj.items()  %}
        "{{ k }}": "{{ v }}",  
    {% endfor %}
    })
    {% endfor %}


  data_array.forEach((d) => {
    let chart_data_arr = []
    let keys = Object.keys(d)
    let values = Object.keys(d)
    let ggenre = d.Top_Genre
    ggenre = ggenre.replace("&amp;", "&")
    ggenre = ggenre.toUpperCase()
    div_a = d3.select(".check_genre").append("div").attr("class", "form-check form-check-inline")
    div_a.append("input").attr("class", "form-check-input").attr("type", "checkbox").attr("value", ggenre.replace("&", "")).attr("id", `${ggenre.replace("&", "")}CheckDefault`).attr("checked", true)
    div_a.append("label").attr("class", "form-check-label").attr("for", `${ggenre}CheckDefault`).text(ggenre)
    for (key of keys){
      if(key !== "Top_Genre"){
        chart_data_arr.push({axis: key, value: (+d[key]).toFixed(3), genre: ggenre})
        
      }
    }
    axis_data.push(chart_data_arr)

  })
  

      var data = axis_data;
			
			////////////////////////////////////////////////////////////// 
			//////////////////// Draw the Chart ////////////////////////// 
			////////////////////////////////////////////////////////////// 
      var color_range_array = []
      data_array.forEach((d) => { color_range_array.push(colorFilter_str(d))})

			var color = d3.scale.ordinal()
				.range(color_range_array);
				
			var radarChartOptions = {
			  w: width,
			  h: height,
			  margin: margin,
			  maxValue: 0.5,
			  levels: 5,
			  roundStrokes: true,
			  color: color
			};
  return [data, radarChartOptions]
};


var paused = false;

function drawGraphics(yearG, startWeek){


d3.json(`http://127.0.0.1:5000/chart/api?year=${yearG}`, function(error, data) { //

var margin = {top: 50, right: 250, bottom: 10, left: 0},
    width = 1200 - margin.left - margin.right;
    height = 700 - margin.top - margin.bottom;

var speed = 1000;

var div_tt = d3.select("body").append("div").attr("class", "tooltip").style("opacity", 0);


var x = d3.scale.linear()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .tickSize(0)
    .ticks(52)
    .orient("top");

//var xtickLabels = ["Dec 28, 2014","Jan 4, 2015","Jan 11, 2015","Jan 18, 2015","Jan 25, 2015","Feb 1,2015","Feb 8, 2015","Feb 15, 2015","Feb 22, 2015","Mar 1, 2015","Mar 8, 2015","Mar 15, 2015","Mar 22, 2015","Mar 29, 2015","Apr 5, 2015","Apr 12, 2015","Apr 19, 2015","Apr 26, 2015","May 3, 2015","May 10, 2015","May 17, 2015","May 24, 2015","May 31, 2015","Jun 7, 2015","Jun 14, 2015", "Jun 21, 2015", "Jun 28, 2015"];

var xtickLabels = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10" , "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26",
                  "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52"]

if (data.length > 52){
  xtickLabels.push("53")
}


xAxis.tickFormat(function(d,i){
    return xtickLabels[i]
  });

var yAxis = d3.svg.axis()
    .scale(y)
    .tickFormat(function(d) { return d;})
    .ticks(16)
    .innerTickSize(- width)
    .tickPadding(10)
    .outerTickSize(0)
    .orient("left");


var line = d3.svg.line()
    .x(function(d) { return x(d.week); })
    .y(function(d) { return y(d.rank); });


var svg = d3.select("#graphic").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .call(responsivefy)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var clip = svg.append("clipPath")
    .attr("id", "clip")
    .append("rect")
    .attr("x","-5")
    .attr("y","-20")
    .attr("width", 0)
    .attr("height", height*1.2);
  
  var color = d3.scale.category20();

  console.log("This is data")
  console.log(data[0])
  color.domain(d3.keys(data[0]).filter(function(key) { return key !== "Week_No"; }));

  data.forEach(function(d) {
    d.Week_No = +[d.Week_No];
  });


  var candidates = color.domain().map(function(name) {
    return {
      name: name,
      values: data.map(function(d) {
        if ((d[name]) === null){
            d.rank = 22
          } else if (parseInt(d[name]) > 20){
            d.rank = 21
          } else {
            d.rank = +[d[name]]
          }


        return {name:name, week: d.Week_No, rank: d.rank};
      })
    };
  });

  console.log("These are Candidates")
  console.log(candidates)//.slice(-1))

  x.domain([1, 52]);
if (data.length > 52){
  x.domain([1, 53])
}


  y.domain([
    d3.min(candidates, function(c) { return d3.min(c.values, function(v) { return v.rank ; }); }),
    (d3.max(candidates, function(c) { return d3.max(c.values, function(v) { return v.rank ; }); })-1)
  ].reverse());


svg.append("g")
      .attr("class", "x axis")
      .attr("transform","translate(0,0)")
      .call(xAxis)
      .selectAll("text")
      .style("text-anchor","start")
      .attr("dx", "2.3em")
      .attr("dy", "-0.9em") 
      .attr("transform",function(d){
        return "rotate(-60)"});

  svg.append("g")
      .attr("class", "y axis")
      .call(yAxis)

  //timeline 
  svg.append("line")
        .attr(
        {
            "class":"horizontalGrid",
            "x1" : -2,
            "x2" : width,
            "y1" : y(1) - 13,
            "y2" : y(1) - 13,
            "fill" : "none",
            "shape-rendering" : "crispEdges",
            "stroke" : "#e0e1e1",
            "stroke-width" : "1px",
            "stroke-dasharray": ("3, 3")
        })
        .attr("id","dotted")
        .attr("clip-path", function(d) { return "url(#clip)"; });


        
       
  //end of timeline

  var candidates = svg.selectAll(".candidate")
      .data(candidates)
    .enter().append("g")
      .attr("class", "candidate");


 function colorFilter(d){
    if (d.name.slice(-1) == 0) {
          return "#e377c2"; // Reggae 
      } else if (d.name.slice(-1) == 9) {
          return "#ffbb78"; // Electronic
      } else if (d.name.slice(-1) == 8){
        return "#8c564b"; // Latin
      } else if (d.name.slice(-1) == 7){
        return "#ce3b69"; // R & B
      } else if (d.name.slice(-1) == 6){
        return "#9467bd"; // Pop 
      } else if (d.name.slice(-1) == 5){
          return "#ff7f0e"; // Country 
    } else if (d.name.slice(-1) == 4){
          return "#2ca02c"; // Hip-Hop 
    } else if (d.name.slice(-1) == 3){
          return "#17becf"; // Rock
    } else if (d.name.slice(-1) == 2){
          return "#bcbd22"; // "Alternative"
    } else {
          return "#d62728" // "Other"
    }
}
  var path = svg.selectAll(".candidate").append("path")
      .attr("class", "line")
      .attr("d", function(d) {
        console.log(d.values)
        return line(d.values); })
      .attr("clip-path", function(d) { return "url(#clip)"; })
      .style("stroke", colorFilter)

    

var circleStart = candidates.append("circle")
      .attr("cx", "0")
      .attr("cy", function(d) { return y(d.values[0].rank); })
      .style("fill", colorFilter)
      .attr("r", 2)

 

var circleEnd = candidates.append("circle")
      .attr("cx", function(d) { return x(d.values[0].week); })
      .attr("cy", function(d) { return y(d.values[0].rank);} )
      .style("fill", colorFilter)
      .attr("r", 2);

// <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="M11.553 3.064A.75.75 0 0112 3.75v16.5a.75.75 0 01-1.255.555L5.46 16H2.75A1.75 1.75 0 011 14.25v-4.5C1 8.784 1.784 8 2.75 8h2.71l5.285-4.805a.75.75 0 01.808-.13zM10.5 5.445l-4.245 3.86a.75.75 0 01-.505.195h-3a.25.25 0 00-.25.25v4.5c0 .138.112.25.25.25h3a.75.75 0 01.505.195l4.245 3.86V5.445z"></path><path d="M18.718 4.222a.75.75 0 011.06 0c4.296 4.296 4.296 11.26 0 15.556a.75.75 0 01-1.06-1.06 9.5 9.5 0 000-13.436.75.75 0 010-1.06z"></path><path d="M16.243 7.757a.75.75 0 10-1.061 1.061 4.5 4.5 0 010 6.364.75.75 0 001.06 1.06 6 6 0 000-8.485z"></path></svg>
var timemark = candidates.append("path")
                  .attr("d", d3.svg.symbol().type("triangle-up"))
                  .style("fill", "grey")
                  .attr("transform",function(d) { return "translate(" + (x(d.values[0].week) ) + "," + (y(1)-15) + ") rotate(-30)"; })


var round = candidates.append("circle")
      .attr("transform", function(d) { return "translate(" + (x(d.values[0].week) + 15) + "," + (y(d.values[0].rank)) + ")"; })
      .attr("x", 0)
      .attr("y",0)
      .attr("r", 10)
      .on("mouseover", function (d) {
        candidates.style("opacity",0.1);
        candidates.filter(function(path) {return path.name === d.name; }).style("opacity",1);
      })
      .on("mouseout", function (d) { candidates.style("opacity",1) })
      .style("fill", colorFilter);


  var ranking = candidates.append("text")
      .attr("transform", function(d) { return "translate(" + (x(d.values[0].week) + 15 ) + "," + (y(d.values[0].rank) ) + ")"; })
      .attr("x", 0)
      .attr("dy", ".31em")
      .attr("text-anchor","middle")
      .on("mouseover", function (d) {
        candidates.style("opacity",0.1);
        candidates.filter(function(path) {return path.name === d.name; }).style("opacity",1);
      })
      .on("mouseout", function (d) { candidates.style("opacity",1); })
      .style("cursor","pointer")
      .style("fill", "#ffffff")
      .style("font-weight", "bold")
      .text(function(d) {
        if (d.values[0].rank > 20){
          //this.classed("visbility", false)
          return "X"
        } else {
          return d.values[0].rank;  
        }
      });
    console.log("DEBUGGER")
    console.log(candidates)
  var label = candidates.append("text")
      .attr("transform", function(d) { return "translate(" + (x(d.values[0].week) + 20) + "," + (y(d.values[0].rank) ) + ")"; })
      .attr("x", 8)
      .attr("dy", ".31em")
      .attr("id","label")
      .on("mouseover", function (d) {
        candidates.style("opacity",0.1);
        candidates.filter(function(path) {return path.name === d.name; }).style("opacity",1);
        div_tt.style("opacity", .9);
        div_tt.html(d.name.slice(0, -1) + "<br/>").style("left", (d3.event.pageX + "px")).style("top", (d3.event.pageY - 28) + "px");

      })
      .on("mouseout", function (d) { candidates.style("opacity",1);
      div_tt.style("opacity", 0);})
      .style("cursor","pointer")
      .style("stroke", colorFilter)
      .text(function(d) { return d.name; });

  


  var week = startWeek;

  var transition = d3.transition()
    .delay(2000)
    .duration(speed)
    .each("start", function start() {     
    try{      
      label.transition()
        .duration(speed)
        .ease('linear')
      .attr("transform", function(d) {return "translate(" + (x(d.values[week].week) + 20) + "," + (y(d.values[week].rank)) + ")";})
      .text(function(d) { return  d.name.slice(0, -1); });

      ranking.transition()
        .duration(speed)
        .ease('linear')
        .attr("transform", function(d) { return "translate(" + (x(d.values[week].week) + 15) + "," + (y(d.values[week].rank) ) + ")"; })
      .text(function(d,i) {
        if (d.values[week].rank > 20){
          return "X"
        } else{
          return  d.values[week].rank; 
        }});

      round.transition()
        .duration(speed)
        .ease('linear')
        .attr("transform", function(d) { return "translate(" + (x(d.values[week].week) + 15) + "," + (y(d.values[week].rank)) + ")"; });
    
      circleEnd.transition()
        .duration(speed)
        .ease('linear')
        .attr("cx", function(d) { return x(d.values[week].week); })
        .attr("cy", function(d) { return y(d.values[week].rank); });

      clip.transition()
        .duration(speed)
        .ease('linear')
        .attr("width", x(week+1)+5)
        .attr("height", height*1.2);

      timemark.transition()
         .duration(speed)
         .ease('linear')
         .attr("transform",function(d) { return "translate(" + (x(d.values[week].week) ) + "," + (y(1)-15) + ") rotate(-30)"; })

      
      if (!paused){
        week+=1;
      } else {
        return -1;
      }


      if (week !== data[0].length){
        transition = transition.transition().each("start", start);
      }     
      
    } catch (error){ console.log(error)
    } finally {
      return -1
    }
  
  });
  

    $(".songname").on("click",function(){
      var nameOfCandidate = $(this).text();
        candidates.style("opacity",0.1);
        candidates.filter(function(path) {
          return path.name === nameOfCandidate;
        }).style("opacity",1);
      });



      
   });

      
      function responsivefy(svg) {

        var container = d3.select(svg.node().parentNode),
            width = parseInt(svg.style("width")),
            height = parseInt(svg.style("height")),
            aspect = width / height;

        svg.attr("viewBox", "0 0 " + width + " " + height)
            .attr("perserveAspectRatio", "xMinYMid")
            .call(resize);

        d3.select(window).on("resize." + container.attr("#graphic"), resize);

        function resize() {
            var targetWidth = parseInt(container.style("width"));
            svg.attr("width", targetWidth * 0.96);
            svg.attr("height", Math.round(targetWidth /aspect * 0.8));
        }  
    }

}

</script>

</div>
</div>

</div>


</body>

<script>
let wantedYear = parseInt({{pyyear}})
// var radar_data = {{ radar_json }}  // list of objects in the form of [{Top_Genre: "data", "attribute": value}] = Genre 1 the first genre
drawGraphics(wantedYear, 1)
array = loadRadars();
RadarChart(".radarChart", array[0], array[1]);


d3.select("#replay")
    .on("click", function(){
      location.reload()
    })

d3.select("#pause").on("click", function(){
  paused = !paused;
})

d3.selectAll(".form-check-input").on("click", function(d){
  console.log(this.value)
  console.log(this.checked)
  // if this.checked == false -> get this.value + _radarWrapper & _circleWrapper
  if (this.checked == false){
    d3.select(`#${this.value}_radarwrapper`).style("opacity", 0)
    d3.select(`#${this.value}_circlewrapper`).style("opacity", 0)
  } else {
    d3.select(`#${this.value}_radarwrapper`).style("opacity", 0.7)
    d3.select(`#${this.value}_circlewrapper`).style("opacity", 0.7)
  }
  






})

function newYear(yearG){
  yearG = parseInt(yearG);
  //d3.select("#graphic").classed("bottomT", true)
  //location.reload();
  drawGraphics(yearG, 1)
}

var log = d3.scale.log()
    .domain([ 0.1, 100, 1000 ])
    .range(["rgb(46, 73, 123)", "rgb(71, 187, 94)"]);

var svg = d3.select("svg");

svg.append("g")
  .attr("class", "legendLog")
  .attr("transform", "translate(20,20)");

var logLegend = d3.legend.color()
    .cells([0.1, 5, 10, 50, 100, 500, 1000])
    .scale(log);

svg.select(".legendLog")
  .call(logLegend);

</script>
<script>
  var colorList = {Reggae: "#e377c2", Electronic: "#ffbb78", Latin: "#8c564b",
  'R&B': "#ce3b69", Pop: "#9467bd",  Country: "#ff7f0e", "Hip-Hop": "#2ca02c",
  Rock: "#17becf", "Alternative": "#bcbd22", Other: "#d62728"};

  

colorize = function(colorList) {
    var container = document.getElementById('container2');
    container.style.width = 1800
    container.style.height = 200
  
    for (var key in colorList) {
        //var boxContainer = document.createElement("DIV");
        var box = document.createElement("DIV");
        var label = document.createElement("SPAN");

        label.innerHTML = key;
        box.className = "box";
        box.style.backgroundColor = colorList[key];
        label.style.marginRight = "15px";

        //boxContainer.appendChild(box);
        //boxContainer.appendChild(label);

        container.appendChild(box);
        container.appendChild(label);
        

   }
}

colorize(colorList);
</script>
</html>